{"ast":null,"code":"import _classCallCheck from \"/opt/lampp/htdocs/NodeJs/gereja/gereja-fe/shard/Source Files/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/opt/lampp/htdocs/NodeJs/gereja/gereja-fe/shard/Source Files/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/opt/lampp/htdocs/NodeJs/gereja/gereja-fe/shard/Source Files/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/opt/lampp/htdocs/NodeJs/gereja/gereja-fe/shard/Source Files/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/opt/lampp/htdocs/NodeJs/gereja/gereja-fe/shard/Source Files/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/opt/lampp/htdocs/NodeJs/gereja/gereja-fe/shard/Source Files/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/opt/lampp/htdocs/NodeJs/gereja/gereja-fe/shard/Source Files/src/components/sacrament/form.js\";\nimport React, { Fragment } from \"react\";\nimport axios from \"axios\";\nimport DataTable from 'react-data-table-component';\nimport PageTitle from \"../common/PageTitle\";\nimport Select from \"../partials/select\";\nimport { Col, Card, CardHeader, CardBody, CardFooter, Container, Row, ListGroup, ListGroupItem, Button, Form, FormInput, FormSelect, FormGroup, FormTextarea, DatePicker, Date } from \"shards-react\";\n\nvar Show = /*#__PURE__*/function (_React$Component) {\n  _inherits(Show, _React$Component);\n\n  function Show(props) {\n    var _this;\n\n    _classCallCheck(this, Show);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Show).call(this, props)); // Bind Functions\n\n    _this.updateRecord = _this.updateRecord.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      data: [],\n      id: null,\n      family_id: null,\n      family: {},\n      anggota_keluarga: [],\n      record: {},\n      group: {},\n      columns: [{\n        name: 'Status',\n        selector: 'relasi_family',\n        sortable: true\n      }, {\n        name: 'Nama',\n        selector: 'nama',\n        sortable: true\n      }, {\n        name: 'Nama Panggilan',\n        selector: 'nama_panggilan',\n        sortable: true\n      }, {\n        name: 'Gender',\n        selector: 'gender',\n        sortable: true\n      }, {\n        key: \"action\",\n        text: \"Action\",\n        className: \"action\",\n        width: 100,\n        align: \"left\",\n        sortable: false,\n        cell: function cell(record) {\n          return /*#__PURE__*/React.createElement(Fragment, {\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 29\n            }\n          }, /*#__PURE__*/React.createElement(\"button\", {\n            className: \"ml-auto btn btn-outline-accent btn-sm\",\n            onClick: function onClick() {\n              return _this.showRecord(record);\n            },\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 33\n            }\n          }, \"Detail\"));\n        }\n      }]\n    };\n    return _this;\n  }\n\n  _createClass(Show, [{\n    key: \"updateRecord\",\n    value: function updateRecord() {// console.log('Component /anggota-keluargas/show.js | Function updateRecord');\n      // console.log(this.state.anggota_keluarga);\n      // let data = this.state.anggota_keluarga;\n      // const headers = { \n      //     'Content-Type': 'application/json',\n      //     Authorization: 'Bearer '+localStorage.getItem('jwt')\n      // };\n      // axios.put('/family-members/'+this.state.id, data, {headers})\n      // .then(response => {\n      //     alert(\"Update Berhasil\");\n      // })\n      // .catch(error => {\n      //     alert(\"Update Gagal !, \"+error);\n      // });\n    }\n  }, {\n    key: \"saveRecord\",\n    value: function saveRecord() {\n      console.log('Save Record'); // let last_uid = this.state.last_uid;\n      // let last_uid_split = last_uid.split('-');\n      // console.log(last_uid_split);\n      // let last_number_uid = parseInt(last_uid_split[last_uid_split.length - 1]);\n      // last_uid_split[last_uid_split.length - 1] = last_number_uid+1;\n\n      var data = this.state.anggota_keluarga;\n      data.family = this.state.family_id; // data.uid = last_uid_split.join('-');\n\n      var headers = {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + localStorage.getItem('jwt')\n      };\n      var data_obj = Object.assign({}, data);\n      axios.post('/family-members/', data_obj, {\n        headers: headers\n      }).then(function (response) {\n        alert(\"Tambah Anggota Berhasil\");\n      }).catch(function (error) {\n        alert(\"Tambah Anggota Gagal !, \" + error);\n      });\n    }\n  }, {\n    key: \"getLastUID\",\n    value: function getLastUID(uid) {// const headers = { \n      //     'Content-Type': 'application/json',\n      //     Authorization: 'Bearer '+localStorage.getItem('jwt')\n      // };\n      // axios.get('/family-members?uid_contains='+uid+'&_sort=uid:DESC', {headers})\n      // .then(response => {\n      //     this.setState({\n      //         last_uid : response.data[0].uid\n      //     });\n      // })\n      // .catch(error => {\n      //     alert(\"Tambah Anggota Gagal !, \"+error);\n      // });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setState({\n        id: this.props.id\n      });\n    }\n  }, {\n    key: \"getStatusDalamKeluarga\",\n    value: function getStatusDalamKeluarga() {\n      var _this2 = this;\n\n      var config = {\n        headers: {\n          Authorization: 'Bearer ' + localStorage.getItem('jwt')\n        }\n      };\n      axios.get('status-keluargas?', config).then(function (res) {\n        _this2.setState({\n          status_keluarga: res.data\n        });\n      }).catch(function (err) {\n        console.error('There was an error!', err);\n      });\n    }\n  }, {\n    key: \"getPendidikanTerakhir\",\n    value: function getPendidikanTerakhir() {\n      var _this3 = this;\n\n      var config = {\n        headers: {\n          Authorization: 'Bearer ' + localStorage.getItem('jwt')\n        }\n      };\n      axios.get('status-pendidikans?', config).then(function (res) {\n        _this3.setState({\n          status_pendidikan: res.data\n        });\n      }).catch(function (err) {\n        console.error('There was an error!', err);\n      });\n    }\n  }, {\n    key: \"getKeluarga\",\n    value: function getKeluarga(id) {\n      var _this4 = this;\n\n      console.log('Component /Keluargas/form.js | Function getKeluarga');\n      var config = {\n        headers: {\n          Authorization: 'Bearer ' + localStorage.getItem('jwt')\n        }\n      };\n      axios.get('keluargas?id=' + id, config).then(function (res) {\n        // Setiap SetState Akan Menjalankan Ulang Fungsi Render\n        console.log(res);\n\n        _this4.setState({\n          id: id,\n          keluarga: res.data[0],\n          group: res.data[0].group\n        });\n\n        _this4.getLastUID(res.data[0].uid);\n      }).catch(function (err) {\n        console.error('There was an error!', err);\n      });\n    }\n  }, {\n    key: \"handleClick\",\n    value: function handleClick(id) {// console.log(\"edit \"+id);\n    }\n  }, {\n    key: \"toObject\",\n    value: function toObject(arr) {\n      var rv = {};\n\n      for (var i = 0; i < arr.length; ++i) {\n        if (arr[i] !== undefined) rv[i] = arr[i];\n      }\n\n      return rv;\n    }\n  }, {\n    key: \"handleInputChanged\",\n    value: function handleInputChanged(event) {\n      console.log('Component /anggota-keluargas/form.js | Function handleInputChanged');\n      console.log('event.target.name = ' + event.target.name);\n      console.log('event.target.value = ' + event.target.value);\n      console.log(event);\n      var data = this.state.data;\n      data[event.target.name] = event.target.value;\n      this.setState({\n        data: data\n      });\n    }\n  }, {\n    key: \"handleDateChange\",\n    value: function handleDateChange(event) {\n      var data = this.state.data;\n      data['date'] = event;\n      console.log(event);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log('Component /anggota-keluargas/form.js | Function render');\n      console.log(this.state);\n      var anggota_keluarga = [];\n      var data_gender = [{\n        value: \"\",\n        text: \"-\"\n      }, {\n        value: \"M\",\n        text: \"Pria\"\n      }, {\n        value: \"F\",\n        text: \"Wanita\"\n      }];\n      var sakramen_list = [{\n        value: \"\",\n        text: \"-\"\n      }, {\n        value: \"Baptis\",\n        text: \"Baptis\"\n      }, {\n        value: \"Ekaristi\",\n        text: \"Ekaristi\"\n      }, {\n        value: \"Krisma\",\n        text: \"Krisma\"\n      }, {\n        value: \"Perkawinan\",\n        text: \"Perkawinan\"\n      }, {\n        value: \"Imamat\",\n        text: \"Imamat\"\n      }, {\n        value: \"Pengakuan_Dosa\",\n        text: \"Pengakuan Dosa\"\n      }, {\n        value: \"Pengurapan_Sakit\",\n        text: \"Pengurapan Sakit\"\n      }];\n      return /*#__PURE__*/React.createElement(Container, {\n        fluid: true,\n        className: \"main-content-container px-4 pb-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        noGutters: true,\n        className: \"page-header py-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(PageTitle, {\n        sm: \"4\",\n        title: \"Keluarga\",\n        subtitle: \"Anggota Keluarga\",\n        className: \"text-sm-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        lg: \"12\",\n        md: \"12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        small: true,\n        className: \"mb-4 \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Form, {\n        id: \"formAnggotaKeluarga\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(CardHeader, {\n        className: \"border-bottom\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"h6\", {\n        className: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 33\n        }\n      }, \"Sakramen\\xA0\")), /*#__PURE__*/React.createElement(CardBody, {\n        className: \"p-0 pb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(ListGroup, {\n        flush: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(ListGroupItem, {\n        className: \"p-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        Row: true,\n        form: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        md: \"12\",\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"feNama\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 45\n        }\n      }, \"Jenis Sakramen\"), /*#__PURE__*/React.createElement(Select, {\n        id: \"feStatus_keluarga\",\n        data: sakramen_list,\n        name: \"sacrament\",\n        onChange: this.handleInputChanged.bind(this),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 45\n        }\n      }))), /*#__PURE__*/React.createElement(Row, {\n        Row: true,\n        form: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        md: \"12\",\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"feNama\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 49\n        }\n      }, \"Date\")), /*#__PURE__*/React.createElement(Col, {\n        md: \"12\",\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(DatePicker, {\n        name: \"datestart\",\n        onChange: this.handleDateChange.bind(this),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 45\n        }\n      })))))))), /*#__PURE__*/React.createElement(CardFooter, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        outline: true,\n        theme: \"accent\",\n        size: \"sm\",\n        className: \"ml-auto\",\n        onClick: this.saveRecord.bind(this),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-save\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 37\n        }\n      }), \" Simpan\")))))));\n    }\n  }]);\n\n  return Show;\n}(React.Component);\n\nexport default Show;","map":{"version":3,"sources":["/opt/lampp/htdocs/NodeJs/gereja/gereja-fe/shard/Source Files/src/components/sacrament/form.js"],"names":["React","Fragment","axios","DataTable","PageTitle","Select","Col","Card","CardHeader","CardBody","CardFooter","Container","Row","ListGroup","ListGroupItem","Button","Form","FormInput","FormSelect","FormGroup","FormTextarea","DatePicker","Date","Show","props","updateRecord","bind","state","data","id","family_id","family","anggota_keluarga","record","group","columns","name","selector","sortable","key","text","className","width","align","cell","showRecord","console","log","headers","Authorization","localStorage","getItem","data_obj","Object","assign","post","then","response","alert","catch","error","uid","setState","config","get","res","status_keluarga","err","status_pendidikan","keluarga","getLastUID","arr","rv","i","length","undefined","event","target","value","data_gender","sakramen_list","handleInputChanged","handleDateChange","saveRecord","Component"],"mappings":"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","sourcesContent":["import React, {Fragment} from \"react\";\nimport axios from \"axios\";\nimport DataTable from 'react-data-table-component';\nimport PageTitle from \"../common/PageTitle\";\nimport Select from \"../partials/select\";\nimport {\n    Col,\n    Card,\n    CardHeader,\n    CardBody,\n    CardFooter,\n    Container,\n    Row,\n    ListGroup,\n    ListGroupItem,\n    Button,\n    Form,\n    FormInput,\n    FormSelect,\n    FormGroup,\n    FormTextarea,\n    DatePicker,\n    Date\n} from \"shards-react\";\n\n\n\n\nclass Show extends React.Component {\n    constructor(props) {\n        super(props);\n        // Bind Functions\n        this.updateRecord = this.updateRecord.bind(this);\n        \n        this.state = {\n            data: [],\n            id: null,\n            family_id: null,\n            family: {},\n            anggota_keluarga: [],\n            record: {},\n            group: {},\n            columns: [\n                \n                {\n                    name: 'Status',\n                    selector: 'relasi_family',\n                    sortable: true,\n                },\n                {\n                    name: 'Nama',\n                    selector: 'nama',\n                    sortable: true,\n                },\n                {\n                    name: 'Nama Panggilan',\n                    selector: 'nama_panggilan',\n                    sortable: true,\n                },\n                {\n                    name: 'Gender',\n                    selector: 'gender',\n                    sortable: true,\n                },\n                {\n                    key: \"action\",\n                    text: \"Action\",\n                    className: \"action\",\n                    width: 100,\n                    align: \"left\",\n                    sortable: false,\n                    cell: record => { \n                        return (\n                            <Fragment>\n                                <button \n                                    className=\"ml-auto btn btn-outline-accent btn-sm\"\n                                    onClick={() => this.showRecord(record)}\n                                >\n                                    Detail\n                                </button>\n                            </Fragment>\n                        );\n                    }\n                }\n            ]\n        }\n\n        \n        \n    }\n\n\n    updateRecord(){\n        // console.log('Component /anggota-keluargas/show.js | Function updateRecord');\n        // console.log(this.state.anggota_keluarga);\n\n        // let data = this.state.anggota_keluarga;\n\n        // const headers = { \n        //     'Content-Type': 'application/json',\n        //     Authorization: 'Bearer '+localStorage.getItem('jwt')\n        // };\n\n        // axios.put('/family-members/'+this.state.id, data, {headers})\n        // .then(response => {\n        //     alert(\"Update Berhasil\");\n        // })\n        // .catch(error => {\n        //     alert(\"Update Gagal !, \"+error);\n        // });\n    }\n\n    saveRecord(){\n        console.log('Save Record');\n\n        // let last_uid = this.state.last_uid;\n        // let last_uid_split = last_uid.split('-');\n        // console.log(last_uid_split);\n        // let last_number_uid = parseInt(last_uid_split[last_uid_split.length - 1]);\n        // last_uid_split[last_uid_split.length - 1] = last_number_uid+1;\n\n\n\n        let data = this.state.anggota_keluarga;\n        data.family = this.state.family_id;\n        // data.uid = last_uid_split.join('-');\n\n        const headers = { \n            'Content-Type': 'application/json',\n            Authorization: 'Bearer '+localStorage.getItem('jwt')\n        };\n\n        let data_obj = Object.assign({}, data);\n\n        axios.post('/family-members/', data_obj, {headers})\n        .then(response => {\n            alert(\"Tambah Anggota Berhasil\");\n        })\n        .catch(error => {\n            alert(\"Tambah Anggota Gagal !, \"+error);\n        });\n    }\n\n    getLastUID(uid){\n        // const headers = { \n        //     'Content-Type': 'application/json',\n        //     Authorization: 'Bearer '+localStorage.getItem('jwt')\n        // };\n\n        // axios.get('/family-members?uid_contains='+uid+'&_sort=uid:DESC', {headers})\n        // .then(response => {\n        //     this.setState({\n        //         last_uid : response.data[0].uid\n        //     });\n        // })\n        // .catch(error => {\n        //     alert(\"Tambah Anggota Gagal !, \"+error);\n        // });\n    }\n\n\n\n    componentDidMount() {        \n        this.setState({\n            id : this.props.id\n        })\n    }\n\n    getStatusDalamKeluarga(){\n        const config = {\n            headers:{\n                Authorization: 'Bearer '+localStorage.getItem('jwt')\n            }\n        };\n        axios.get('status-keluargas?', config)\n        .then(res => {\n            this.setState({\n                status_keluarga: res.data,\n            });\n        })\n        .catch(err => {\n            console.error('There was an error!', err);\n        });\n    }\n\n    getPendidikanTerakhir(){\n        const config = {\n            headers:{\n                Authorization: 'Bearer '+localStorage.getItem('jwt')\n            }\n        };\n        axios.get('status-pendidikans?', config)\n        .then(res => {\n            this.setState({\n                status_pendidikan: res.data,\n            });\n        })\n        .catch(err => {\n            console.error('There was an error!', err);\n        });\n    }\n\n    getKeluarga(id){\n        console.log('Component /Keluargas/form.js | Function getKeluarga');\n        const config = {\n            headers:{\n                Authorization: 'Bearer '+localStorage.getItem('jwt')\n            }\n        };\n        axios.get('keluargas?id='+id, config)\n        .then(res => {\n            // Setiap SetState Akan Menjalankan Ulang Fungsi Render\n            console.log(res);\n            this.setState({\n                id: id,\n                keluarga: res.data[0],\n                group: res.data[0].group\n            });\n\n            this.getLastUID(res.data[0].uid);\n        })\n        .catch(err => {\n            console.error('There was an error!', err);\n        });\n    }\n\n    handleClick(id){\n        // console.log(\"edit \"+id);\n    }\n    \n    toObject(arr) {\n        var rv = {};\n        for (var i = 0; i < arr.length; ++i)\n            if (arr[i] !== undefined) rv[i] = arr[i];\n        return rv;\n    }   \n\n    handleInputChanged(event) {\n        console.log('Component /anggota-keluargas/form.js | Function handleInputChanged');\n        console.log('event.target.name = '+event.target.name);\n        console.log('event.target.value = '+event.target.value);\n        console.log(event);\n\n        let data = this.state.data;\n\n        data.[event.target.name] = event.target.value;\n        this.setState({\n            data : data,\n        });\n    }\n\n    handleDateChange(event) {\n        let data = this.state.data;\n\n        data.['date'] = event;\n        console.log(event);\n    }\n\n\n    render() {\n        console.log('Component /anggota-keluargas/form.js | Function render');\n        console.log(this.state);\n        let anggota_keluarga = [];\n        \n        let data_gender = [\n            {\n                value: \"\",\n                text: \"-\"\n            },\n            {\n                value: \"M\",\n                text: \"Pria\"\n            },\n            {\n                value: \"F\",\n                text: \"Wanita\"\n            },\n        ]\n\n        let sakramen_list = [\n            {\n                value: \"\",\n                text: \"-\"\n            },\n            {\n                value: \"Baptis\",\n                text: \"Baptis\"\n            },\n            {\n                value: \"Ekaristi\",\n                text: \"Ekaristi\"\n            },\n            {\n                value: \"Krisma\",\n                text: \"Krisma\"\n            },\n            {\n                value: \"Perkawinan\",\n                text: \"Perkawinan\"\n            },\n            {\n                value: \"Imamat\",\n                text: \"Imamat\"\n            },\n            {\n                value: \"Pengakuan_Dosa\",\n                text: \"Pengakuan Dosa\"\n            },\n            {\n                value: \"Pengurapan_Sakit\",\n                text: \"Pengurapan Sakit\"\n            },\n        ];\n\n        \n        return (\n            <Container fluid className=\"main-content-container px-4 pb-4\">\n                <Row noGutters className=\"page-header py-4\">\n                    <PageTitle sm=\"4\" title=\"Keluarga\" subtitle=\"Anggota Keluarga\" className=\"text-sm-left\" />\n                </Row>\n                <Row>\n                {/* Editor */}\n                    <Col lg=\"12\" md=\"12\">\n                        <Card small className=\"mb-4 \"> \n                            <Form id=\"formAnggotaKeluarga\" >\n                            <CardHeader className=\"border-bottom\">\n                                <h6 className=\"\">Sakramen&nbsp;\n                                \n                                </h6>\n                            </CardHeader>\n                            <CardBody className=\"p-0 pb-3\" >\n                            <ListGroup flush>\n                                <ListGroupItem className=\"p-3\">\n                                    <Row>\n                                    <Col>\n                                        <Row   Row form>\n                                            {/* Last Name */}\n                                            <Col md=\"12\" className=\"form-group\">\n                                            <label htmlFor=\"feNama\">Jenis Sakramen</label>\n                                            <Select id=\"feStatus_keluarga\" \n                                                data={sakramen_list} \n                                    \n                                                name=\"sacrament\"\n                                                onChange={this.handleInputChanged.bind(this)}\n                                            />\n                                            \n                                            </Col>\n                                        </Row>\n                                        <Row   Row form>\n                                            {/* Last Name */}\n                                            <Col md=\"12\" className=\"form-group\">\n                                                <label htmlFor=\"feNama\">Date</label>\n                                            </Col>\n                                            <Col md=\"12\" className=\"form-group\">\n                                            <DatePicker\n                                            name=\"datestart\"\n                                            onChange={this.handleDateChange.bind(this)}\n                                            />\n                                            </Col>\n                                        </Row>\n                                        \n                                        \n                                        \n                                        \n\n                                        \n                                        \n                                        \n                                        \n                                    </Col>\n                                    </Row>\n                                </ListGroupItem>\n                            </ListGroup>\n                            </CardBody>\n                            <CardFooter>\n                                <Button outline theme=\"accent\" size=\"sm\" className=\"ml-auto\" onClick={this.saveRecord.bind(this)}>\n                                    <i className=\"fa fa-save\"></i> Simpan\n                                </Button>\n                            </CardFooter>\n                            </Form>\n                        </Card>\n                    </Col>\n\n                    {/* Sidebar Widgets */}\n                    {/* <Col lg=\"12\" md=\"12\">\n                        <Card small className=\"mb-4\">\n                            <CardHeader className=\"border-bottom\">\n                                <h6 className=\"m-0\">Sakramen&nbsp;&nbsp;\n                                    <Button outline theme=\"accent\" size=\"sm\" className=\"ml-auto\" onClick={this.addRecord}>\n                                        <i className=\"fa fa-plus\"></i> Tambah Sakramen\n                                    </Button>\n                                </h6>\n                                \n                            </CardHeader>\n                            <CardBody className=\"p-0 pb-3\">\n                                \n                            </CardBody>\n                            <CardFooter>\n                                \n                            </CardFooter>\n                        </Card>\n                    </Col> */}\n                </Row>\n                \n            </Container>\n\n            \n        )\n    }\n}\n\nexport default Show;\n"]},"metadata":{},"sourceType":"module"}